cuda: 11.6
useSpot: false

cloudProviders:
  - name: GCP
    regions:
      - us-central1
      - europe-west4
      - asia-east1
      - us-west1

gpuTypes:
  - V100

minvCPUs: 16
minMemory: 32
gpusPerTrial: 4
pythonVersion: "3.8"

entrypoint: python3 video_model_pod.py --epochs 100 --batch_size 16
requirements: requirements.txt

codeTransfer:
  type: GITHUB
  repo: https://github.com/ScaleTorch/examples.git
  ref: main
  codeDir: samples/3d-video

preJobCommands:
  - apt-get update -y
  - apt-get install unzip -y
  - wget
    https://ai2-public-datasets.s3-us-west-2.amazonaws.com/charades/Charades.zip
  - unzip Charades.zip
  - mv Charades /mnt/Charades

useDAPP: true
dapp:
  epochs: 100

virtualMounts:
  - name: charades-video-dataset


artifactsDestination:
  name: s3-store

